 class bookmark {
  constructor(width, height, element, dropSize, inversion) {
  
   const style = `
    background-color: white;
    border: 1px solid; `
  
    const that = this
    this.DropSize = dropSize
    this.book = element
    this.element = document.createElement("div")
    var mark = that.element
    mark.style = style
    mark.style.width = width + "px"
    mark.style.height = height + "px"
    mark.style.display = "none"
    var Data = { biggest: width, lowest: height, orintation: "down" };
    if(width > height) { Data.biggest = height; Data.lowest = width; }
    if(!inversion && width < height) { Data.orintation = "right" }
    if(inversion && width < height) { Data.orintation = "left" }
    if(inversion && width > height) { Data.orintation = "up" }
    mark.style.borderRadius = Data.lowest/2 + "px"
    this.listeners = { open: function() {}, close: function() {} };
  
    this.openBook = function() {
      that.element.style.display = "none"
      that.book.style.display = "block"
      that.listeners.open()
      window.onresize()
     };
  
    this.closeBook = function() {
      that.book.style.display = "none"
      that.element.style.display = "block"
      that.listeners.close()
      window.onresize()
    };
  
  this.active = false
   this.take = function(e) {
     e = executor.handle(e)
     that.active = { sx: e.x, sy: e.y}
    };
  
   this.move = function(e) {
     e = executor.handle(e)
     if(that.active) {
      var progres = 0
      if(Data.orintation == "down") { 
        progres = e.y - that.active.sy
         if(progres > that.DropSize) {
          that.openBook();
          that.active = false; 
         }
       }
    if(Data.orintation == "up") {
     progres = that.active.sy - e.y
      if(progres > that.DropSize) {
       that.openBook();
       that.active = false; 
       }
     }
   if(Data.orintation == "right") {
    progres = e.x - that.active.sx
     if(progres > that.DropSize) {
      that.openBook();
      that.active = false; 
      }
    }
   if(Data.orintation == "left") { 
    that.active.sx - e.x
     if(progres > that.DropSize) {
      that.openBook();
      that.active = false; 
      }
   }
     var color = "rgba(" + canvas.color[0] +","+ canvas.color[1]+","+ canvas.color[2]+","
     color = color + Math.abs(progres)/that.DropSize + ")"
     that.element.style.backgroundColor = color
      }
   };
  
   this.drop = function() { that.active = false; that.element.style.backgroundColor="white" };  
   this.on_open = function(f) { that.listeners.open = f }
   this.on_close = function(f) { that.listeners.close = f };
   that.element.addListener(that.take, that.move, that.drop)
    }
  }; window.alert("BookMark")